<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>the Exagerration Equation</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=McLaren&display=swap" rel="stylesheet">
    <style>
        body {
            background: #00121b;
            color: white;
            font-family: 'McLaren', cursive;
        }

        #opener {
            text-align: center;
        }

        .Question, .ShowAtFirst, .ShowNotFirst, .ShowAtEnd, .ShowAfter1, .warning, .Finale, .results {
            display: none;
        }

        .Question, .warning {
            margin-top: .5em;
        }

        #FirstNext {
            margin-top: 3rem;
        }

        .subtext {
            font-style: italic;
            font-size: .85rem;
            color: ghostwhite;
        }

        #title h5 {
            margin-bottom: 1rem;
            margin-top: .5rem;
        }

        .Question {
            margin: 1rem 0;
            background: rgba(255,255,255,.25);
            padding: 1rem;
            border-radius: 5px;
        }

        #buttons {
            text-align: right;
        }

        .Question label {
            margin-bottom: 1rem;
        }

        .results {
            font-size: 1.5rem;
        }
                #results {
            font-size: 2rem;
        }

    </style>
</head>

<body>
    <div class="content-wrapper">
        <div class="container">
            <div id="opener" class="ShowAtFirst mt-3">
                <h5 class="mb-3">Welcome to the</h5>
                <h1>Exagerration Equation</h1>
                <div class="mt-3 subtext">a social experiment founded by Josh Lewis</div>
                <button id="FirstNext" class="Next btn btn-xl btn-primary">Continue</button>
            </div>

            <div id="title" class="ShowNotFirst">
                <h5>Exagerration Equation</h5>
                <div id="progress">Question Progress: <span id="currentquestion">0</span>/<span id="totalquestions">11</span></div>
            </div>

            <div class="alert alert-danger warning" role="alert">
                <p>You must select an answer, to ensure the "accuracy" of the Exaggeration algorithm.</p>
            </div>

            <div id="Q1" class="Question">
                <label>1. Frequency </label>
                <select class="form-control">
                    <option value="0"></option>
                    <option value="1">a. Occurrence</option>
                    <option value="1">b. Amount</option>
                    <option value="1">c. Feeling</option>
                </select>
            </div>
            <div id="Q2" class="Question">
                <label>2. Exaggeration attempt is for:</label>
                <select class="form-control">
                    <option value="0"></option>
                    <option value="1">a. High</option>
                    <option value="1">b. Low</option>
                </select>
            </div>
            <div id="Q3" class="Question">
                <label>3. Hunger level</label>
                <select class="form-control">
                    <option></option>
                    <option value="1">a. Hungry</option>
                    <option value="1">b. Full</option>
                    <option value="1">c. Could eat</option>
                </select>
            </div>
            <div id="Q4" class="Question">
                <label>4. Alcohol consumption</label>
                <select class="form-control">
                    <option value="0"></option>
                    <option value="1">a. One or less</option>
                    <option value="1">b. Few</option>
                    <option value="1">c. Bottle in</option>
                </select>
            </div>
            <div id="Q5" class="Question">
                <label>5. Aunt Visiting</label>
                <select class="form-control">
                    <option value="0"></option>
                    <option value="1">a. Aunt flow is coming</option>
                    <option value="1">b. Aunt flow left</option>
                    <option value="1">c. Chasing husband</option>
                </select>
            </div>
            <div id="Q6" class="Question">
                <label>6. Is it life</label>
                <select class="form-control">
                    <option value="0"></option>
                    <option value="1">a. Yes</option>
                    <option value="1">b. No</option>
                </select>
            </div>
            <div id="Q7" class="Question">
                <label>7. Can she even right now</label>
                <select class="form-control">
                    <option value="0"></option>
                    <option value="1">a. She cant even</option>
                    <option value="1">b. She can even</option>
                </select>
            </div>
            <div id="Q8" class="Question">
                <label>8. Honestly and literally</label>
                <select class="form-control">
                    <option value="0"></option>
                    <option value="1">a. Both</option>
                    <option value="1">b. Honestly</option>
                    <option value="1">c. Literally</option>
                </select>
            </div>
            <div id="Q9" class="Question">
                <label>9. Pause in speech</label>
                <select class="form-control">
                    <option value="0"></option>
                    <option value="1">a. Long</option>
                    <option value="1">b. Short</option>
                    <option value="1">c. Glare</option>
                </select>
            </div>
            <div id="Q10" class="Question">
                <label>10. Voice used</label>
                <select class="form-control">
                    <option value="0"></option>
                    <option value="1">a. Baby</option>
                    <option value="1">b. Kur/Oscar</option>
                    <option value="1">c. Ok voice</option>
                    <option value="1">d. Normal (use with caution)</option>
                </select>
            </div>
            <div id="Q11" class="Question">
                <label>11. OMG Multiplier</label>
                <select class="form-control">
                    <option value="0"></option>
                    <option value="1">a. 1x</option>
                    <option value="1">b. 2x</option>
                    <option value="1">c. 3x</option>
                </select>
            </div>
            <div class="Finale">
                <h3 class="mb-5">Calculating Results</h3>
                <h5 id="statustext" class="mb-5">Be patient... very sophisticated calculations in use!</h5>
                <div class="progress mb-5">
                    <div id="progress" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <div class="results">
                    <label>Results: </label> <span id="results" style="color: yellow;"></span>
                </div>
            </div>

            <div id="buttons" class="ShowNotFirst pt-2">
                <button id="Back" class="Back ShowAfter1 btn btn-xl btn-primary">Back</button>
                <!--<button id="Next" class="Next btn btn-xl btn-primary">Continue</button>-->
                <button id="Submit" class="ShowAtEnd btn btn-xl btn-success">Submit</button>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
            integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
            crossorigin="anonymous"></script>

    <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.min.js"
            integrity="sha256-eGE6blurk5sHj+rmkfsGYeKyZx3M4bG+ZlFyA7Kns7E="
            crossorigin="anonymous"></script>

    <script type="text/javascript">
        var progress = 0;
        var totalquestions = 11;
        var calcMessageIntervalMs = 900;
        var calcMessageLeadTimeMs = 2000;
         //calcMessageIntervalMs = 10;
         //calcMessageLeadTimeMs = 10;

        var result = [
            "A few",
            "Rarely",
            "Chill out it's cool",
            "Aint no thang, grab a drink..."
        ];

        function getRandomInt(max) {
            return Math.floor(Math.random() * Math.floor(max));
        }

        const setProgress = function () {
            $("#currentquestion").text(progress);
            $("#totalquestions").text(totalquestions);
        }

        const hide = function () {
            $(".warning").hide();
            $(".Question").hide();
            $("#Q" + progress).show();

            $(".ShowAtFirst").hide();
            $(".ShowNotFirst").hide();
            $(".ShowAtEnd").hide();
            $(".ShowAfter1").hide();
            $(".Finale").hide();
        }

        const showHide = function () {

            hide();

            if (progress === 0) {
                $(".ShowAtFirst").show();
            } else if (progress === totalquestions) {
                $(".ShowAtEnd").show();
                $(".ShowNotFirst").show();
                $(".ShowAfter1").show();
            } else if (progress > 1) {
                $(".ShowAfter1").show();
                $(".ShowNotFirst").show();
            } else {
                $(".ShowNotFirst").show();
            }

            setProgress();
        }

        const doProgress = function () {
            $(".warning").hide();
            if (progress < totalquestions) {
                if (progress > 0) {
                    if (parseInt($("#Q" + progress + " select").val()) < 1) {
                        $(".warning").show();
                    } else {
                        progress++;
                        showHide();
                    }
                } else {
                    progress++;
                    showHide();
                }
            }
        }

        $(function () {
            var audioElement = document.createElement('audio');


            if((navigator.userAgent.match(/iPhone/i)) || (navigator.userAgent.match(/iPod/i)) || (navigator.userAgent.match(/iPad/i))) {
                audioElement.setAttribute('src', 'dial.ogg');
            }
            else {
                audioElement.setAttribute('src', 'dial.mp3');
            }

            $('#Submit').click(function () {
                progress++;
                hide();

                var $progress = $(".progress");
                var $statustext = $("#statustext")
                var percent = 0;

                $(".Finale").show();

                setTimeout(function () {
                    audioElement.play();
                    $progress.show();

                    var progresstimer = setInterval(function () {
                        $progress.children("#progress").css("width", percent + "%");
                        percent = percent + 5;
                        if (percent === 10) {
                            $statustext.text("Status: Aquiring Answers...")
                        }
                        if (percent === 20) {
                            $statustext.text("Status: Determining Severity...")
                        }
                        if (percent === 30) {
                            $statustext.text("Status: Wasting Time...")
                        }
                        if (percent === 50) {
                            $statustext.text("Status: Reticulating Splines...")
                        }
                        if (percent === 70) {
                            $statustext.text("Status: Creating AI model...")
                        }
                        if (percent === 80) {
                            $statustext.text("Status: Refining Results...")
                        }
                        if (percent === 90) {
                            $statustext.text("Status: Looking Busy...")
                        }
                        if (percent >= 105) {
                            clearInterval(progresstimer);
                            $statustext.text("Status: Done!")

                            var number = getRandomInt(result.length);
                            $(".results").show();
                            $("#results").text(result[number]);
                        }
                    }, calcMessageIntervalMs);
                }, calcMessageLeadTimeMs)
            });

            $("select").change(function () {
                doProgress();
            });

            $(".Next").click(function () {
                doProgress();
            });

            $('.Back').click(function () {
                progress--;
                showHide();
            });

            showHide();
        });
    </script>
</body>
</html>